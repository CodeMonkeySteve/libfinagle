Name: libFinagle
Version: @FINAGLE_VERSION@
Release: @FINAGLE_RELEASE@

Summary: Finagle C++ convenience/wrapper library.
License: LGPL
Group: Development/Libraries
#Url:
Source: libFinagle-@FINAGLE_VERSION@-@FINAGLE_RELEASE@.tar.bz2

BuildRoot: %(mktemp -ud %{_tmppath}/%{name}-%{version}-%{release}-XXXXXX)

%description
Finagle is a C++ library providing wrapper classes and convenience 
functions for many common system functions, including:
* Multi-threading (pthreads)
* Regular expressions (pcre)
* XML parsing (expat)
* TCP/UNIX network (sockets)
* Signal/slot messaing (sigslot)
* Reference-counting smart-pointers


%prep
%setup -q -n %{name}-%{version}-%{release}


%build
%configure --enable-doxygen
make %{?_smp_mflags}


%install
rm -rf %{buildroot}
make install DESTDIR=%{buildroot}
rm -f %{buildroot}/%{_libdir}/*.la


%clean
rm -rf %{buildroot}


%files
%defattr(-,root,root,-)
%{_libdir}/libFinagle*.so.*
%doc AUTHORS COPYING

%post -p /sbin/ldconfig

%postun -p /sbin/ldconfig

###############################################################################

%package devel
Summary: Static libraries and header files for libFinagle app development.
Group: Development/Libraries
Requires: %name = %version

%description devel
This package contains the static libraries and headers necessary for developing 
programs that use libFinagle.

%files devel
%defattr(-,root,root,-)
%{_libdir}/libFinagle*.so
%{_libdir}/libFinagle*.a
%{_includedir}/%{name}-%{version}-%{release}/Finagle/*.h
%doc doc/html/*
